<!DOCTYPE HTML>
<html>
  <head>
    <link rel="stylesheet" href="styles.css">
    <title>Policeman</title></head>
  <body>
    <div class="b">
      <ol>
      <li>Name:<input></li><br>
      <li>contact:<input></li><br>
      <li>Mail:<input></li><br>
      <li>Profile pic:
        <button type="button" onclick="upload()">UPLOAD</button>
        <input type="file" id="imageInput" accept="image/png, image/jpeg" hidden>
        <img id="preview" style="display:none; max-width:150px;">
        <br><br>

     </li></ol>
      <button onclick="check()">SUBMIT</button></div>
      <script>
        function check() {
  window.location.href = "police.html";
}

     document.getElementById("imageInput").addEventListener("change", function(event) {
     const file = event.target.files[0];
    if (!file) return;

     const validTypes = ["image/jpeg", "image/png"];
     if (!validTypes.includes(file.type)) {
      alert("Please select a JPG or PNG image.");
     event.target.value = "";
     return;
   }

    const reader = new FileReader();   // ðŸ”¥ YOU MISSED THIS

    reader.onload = function(e) {
    const imgData = e.target.result;

    const img = document.getElementById("preview");
    img.src = imgData;
    img.style.display = "block";

    
    localStorage.setItem("profilePic", imgData);
  };

  reader.readAsDataURL(file);  
});

     function upload() {
      document.getElementById("imageInput").click();
      }

      </script>
  </body>
</html>
