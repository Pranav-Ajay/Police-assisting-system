<!DOCTYPE HTML>
<html>
  <head>
    <link rel="stylesheet" href="styles.css">
    <title>Policeman</title></head>
  <body>
    <div class="b">
      <ol>
      <li>Name:<input id="a"></li><br>
      <li>contact:<input></li><br>
      <li>Mail:<input id="1"></li><br>
      <select id="job" name="Occupation">
      <option value="police">police</option>
      <option value="detective">detective</option>
      <option value="crime_analyst">crime analyst</option></li><br> 
      </select>
      <li>Profile pic:
     <button type="button" onclick="upload('profileInput')">UPLOAD</button>
     <input type="file" id="profileInput" accept="image/png, image/jpeg" hidden>
    </li>

  <li>Signature:
  <button type="button" onclick="upload('signInput')">UPLOAD</button>
  <input type="file" id="signInput" accept="image/png, image/jpeg" hidden>
      </li></ol><br>
      <button onclick="check()">SUBMIT</button></div>
    <script>
     function check() {
  let name = document.getElementById("a").value;
  let mail = document.getElementById("1").value;
  let occupation = document.getElementById("job").value;

  localStorage.setItem("username1", name);
  localStorage.setItem("username2", mail);

 if(occupation==="police"){
       window.location.href="police.html";}
 else if(occupation==="detective"){
       window.location.href="detective.html";}
 else if(occupation==="crime analyst")
       window.location.href=".html";
       
}

function upload(id) {
  document.getElementById(id).click();
}

document.getElementById("profileInput").addEventListener("change", handleImage1);
document.getElementById("signInput").addEventListener("change", handleImage2);

function handleImage1(event) {
  const file = event.target.files[0];
  if (!file) return;

  const validTypes = ["image/jpeg", "image/png"];
  if (!validTypes.includes(file.type)) {
    alert("Please select JPG or PNG image.");
    event.target.value = "";
    return;
  }

  const reader = new FileReader();
  reader.onload = function(e) {
  const imgData = e.target.result;


   localStorage.setItem("profilePic", imgData);
    
  };

  reader.readAsDataURL(file);
}

function handleImage2(event) {
  const file = event.target.files[0];
  if (!file) return;

  const validTypes = ["image/jpeg", "image/png"];
  if (!validTypes.includes(file.type)) {
    alert("Please select JPG or PNG image.");
    event.target.value = "";
    return;
  }

  const reader = new FileReader();
  reader.onload = function(e) {
  const imgData1 = e.target.result;

   
  localStorage.setItem("signaturePic", imgData1);
    
  };

  reader.readAsDataURL(file);
}
</script>
  </body>
</html>
