<!DOCTYPE HTML>
<html>
  <head>
    <link rel="stylesheet" href="styles.css">
    <title>Policeman</title></head>
  <body>
    <div class="b">
      <ol>
      <li>Name:<input id="a"></li><br>
      <li>contact:<input></li><br>
      <li>Mail:<input id="1"></li><br>
      <li>Profile pic:
     <button type="button" onclick="upload('profileInput')">UPLOAD</button>
     <input type="file" id="profileInput" accept="image/png, image/jpeg" hidden>
    </li>

  <li>Signature:
  <button type="button" onclick="upload('signInput')">UPLOAD</button>
  <input type="file" id="signInput" accept="image/png, image/jpeg" hidden>
      </li></ol><br>
      <button onclick="check()">SUBMIT</button></div>
    <script>
     function check() {
  let name = document.getElementById("a").value;
  let mail = document.getElementById("1").value;

  localStorage.setItem("username1", name);
  localStorage.setItem("username2", mail);

  window.location.href = "police.html";
}

function upload(id) {
  document.getElementById(id).click();
}

document.getElementById("profileInput").addEventListener("change", handleImage);
document.getElementById("signInput").addEventListener("change", handleImage);

function handleImage(event) {
  const file = event.target.files[0];
  if (!file) return;

  const validTypes = ["image/jpeg", "image/png"];
  if (!validTypes.includes(file.type)) {
    alert("Please select JPG or PNG image.");
    event.target.value = "";
    return;
  }

  const reader = new FileReader();
  reader.onload = function(e) {
    const imgData = e.target.result;

    if (event.target.id === "profileInput") {
      localStorage.setItem("profilePic", imgData);
    } else {
      localStorage.setItem("signaturePic", imgData);
    }
  };

  reader.readAsDataURL(file);
}
</script>
  </body>
</html>
